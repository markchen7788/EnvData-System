<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>商品</title>
	<link rel="stylesheet" href="./layui/css/layui.css">
</head>

<body>
	<script src="./layui/layui.js"></script>
	<script>
		//Demo
		layui.use('form', function () {
			var form = layui.form;

			//监听提交

		});
	</script>
	<br><br>
	<form class="layui-form" lay-filter="formTest" action="">
		<div class="layui-form-item layui-form-text">
			<label class="layui-form-label">SQL</label>
			<div class="layui-input-block">
				<textarea name="sql" placeholder="请输入sql语句" class="layui-textarea"></textarea>
			</div>
		</div>
		<div class="layui-form-item">
			<div class="layui-input-block">
				<br><br>
				<button class="layui-btn" lay-submit lay-filter="query">查询</button>
				<button class="layui-btn" lay-submit lay-filter="update">操作</button>
				<button class="layui-btn" id='bt'>click</button>
			</div>
		</div>
		</div>
	</form>
	<script type="text/javascript">
		layui.use(['element', 'form', 'layer', 'jquery'], function () {

			const $ = layui.jquery;
			var layer = layui.layer
			var form = layui.form;
			form.on('submit(query)', function (data) {
				layer.msg('查询：' + JSON.stringify(data.field));
				$.ajax({
					url: '/test/query',
					type: 'post',
					data: data.field,
					success: function (res) {
						$('p').text(JSON.stringify(res))

					}
				});
				return false;
			});
			form.on('submit(update)', function (data) {
				layer.msg('操纵：' + JSON.stringify(data.field));
				$.ajax({
					url: '/test/update',
					type: 'post',
					data: data.field,
					success: function (res) {
						$('p').text(JSON.stringify(res))

					}
				});
				return false;
			});
			$('#bt').click(function () {

				$.ajax({
					url: '/test/test',
					type: 'post',
					data: { "cName": "软件" },
					success: function (res) {
						$('p').text(res)

					}
				});

			});

		});

	</script>
	<p></p>
</body>

</html>